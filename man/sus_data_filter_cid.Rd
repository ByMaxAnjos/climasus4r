% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sus_data_filter_cid.R
\name{sus_data_filter_cid}
\alias{sus_data_filter_cid}
\title{Filter SUS health data by ICD-10 codes or disease groups with multilingual support}
\usage{
sus_data_filter_cid(
  df,
  icd_codes = NULL,
  disease_group = NULL,
  icd_column = NULL,
  match_type = "starts_with",
  lang = "en",
  verbose = TRUE
)
}
\arguments{
\item{df}{A \code{data.frame} or \code{tibble} containing SUS health data with ICD-10 codes.
Typically obtained from DATASUS systems (SIM, SIH, SINAN). The data should
contain at least one column with ICD-10 codes in standard format (e.g., "A00.0",
"I10", "C50.9").}

\item{icd_codes}{A character vector of ICD-10 codes, ranges, or categories.
Multiple syntaxes are supported:

\strong{Basic filtering:}
\itemize{
\item Single code: \code{"J18.9"} (Pneumonia, unspecified)
\item Multiple codes: \code{c("I10", "I11.0", "I11.9")} (Hypertensive diseases)
}

\strong{Range filtering:}
\itemize{
\item Complete range: \code{"J00-J99"} (All diseases of respiratory system)
\item Partial range: \code{"J09-J18"} (Influenza and pneumonia only)
}

\strong{Chapter filtering:}
\itemize{
\item Full chapter: \code{"I"} (All diseases of circulatory system, codes I00-I99)
\item Chapter group: \code{"C00-D48"} (All neoplasms)
}

\strong{Special SUS categories:}
\itemize{
\item \code{"causas_externas"} or \code{"external_causes"}: V01-Y98 (External causes)
\item \code{"causas_maternas"} or \code{"maternal_causes"}: O00-O99 (Pregnancy/childbirth)
\item \code{"causas_infantis"} or \code{"infant_causes"}: P00-P96 (Perinatal conditions)
\item \code{"doencas_infecciosas"} or \code{"infectious_diseases"}: A00-B99 (Infectious)
\item \code{"doencas_respiratorias"} or \code{"respiratory_diseases"}: J00-J99 (Respiratory)
\item \code{"doencas_cardiovasculares"} or \code{"cardiovascular_diseases"}: I00-I99 (Cardio)
\item \code{"neoplasias"} or \code{"neoplasms"}: C00-D48 (Neoplasms)
}

\strong{Brazilian epidemiological priorities:}
\itemize{
\item \code{"dengue_like"}: A90-A91 (Dengue) + A92.0-A92.9 (Other viral fevers)
\item \code{"zika_chik"}: A92.8 (Zika) + A92.0 (Chikungunya)
\item \code{"tb_respiratoria"}: A15-A16 (Respiratory tuberculosis)
\item \code{"covid19"}: U07.1 (COVID-19) + U07.2 (Suspected COVID-19)
\item \code{"violencia"}: X85-Y09 (Assault) + Y35-Y36 (Legal intervention)
}

\strong{Note}: Either \code{icd_codes} OR \code{disease_group} must be provided, not both.}

\item{disease_group}{Character. Name of predefined disease group (e.g., "dengue",
"cardiovascular", "respiratory"). Use \code{list_disease_groups()} to see all available groups.
Mutually exclusive with \code{icd_codes}.}

\item{icd_column}{Character. Name of the column containing ICD-10 codes.
If NULL (default), the function attempts auto-detection from common SUS
column names in this priority order:
\enumerate{
\item \code{"CAUSABAS"} - Underlying cause (primary cause of death in SIM)
\item \code{"DIAG_PRINC"} - Main diagnosis (SIH hospitalizations)
\item \code{"DIAG_SECUN"} - Secondary diagnosis
\item \code{"CAUSAOBITO"} - Cause of death (alternative SIM field)
\item \code{"DIAGNOSTIC"} - Diagnosis (SINAN notifiable diseases)
\item \code{"linha_a"} through \code{"linha_f"} - Multiple cause lines (SIM)
}}

\item{match_type}{Character. Type of matching algorithm:
\itemize{
\item \code{"exact"}: Exact code match (e.g., "I10" matches only "I10")
\item \code{"starts_with"}: Match codes starting with pattern (default, e.g., "I10" matches "I10", "I10.0", "I10.9")
\item \code{"range"}: Match codes within specified ranges (e.g., "I10-I15" matches I10-I15.9)
\item \code{"chapter"}: Match entire ICD-10 chapter (e.g., "I" matches I00-I99.9)
\item \code{"fuzzy"}: Allow for common SUS coding variations (e.g., "I10" matches "I10", "I10 ", "I10X")
}}

\item{lang}{Character. Language for user interface messages, warnings, and
documentation. Options:
\itemize{
\item \code{"en"}: English (default)
\item \code{"pt"}: Portuguese (recommended for Brazilian users)
\item \code{"es"}: Spanish
Affects all console output and documentation of matched codes.
}}

\item{verbose}{Logical. If TRUE (default), prints detailed filtering
information including: records processed, match statistics, common
coding issues detected, and time elapsed.}
}
\value{
A filtered \code{data.frame} or \code{tibble} containing only records matching
the specified ICD-10 codes or disease group. The output preserves all original columns
}
\description{
Filters Brazilian Unified Health System (SUS) data based on ICD-10 codes.
(International Classification of Diseases, 10th Revision) or predefined epidemiological disease groups. This function
supports complex filtering scenarios including specific codes, code ranges,
chapters, and 50+ disease groups relevant to epidemiological research in Brazil.
Includes specialized support for SUS-specific coding practices and
multilingual interface (English, Portuguese, Spanish).
}
\details{
\subsection{Automatic ICD Column Detection}{

The function automatically identifies the appropriate ICD column based on the
health system
}

\subsection{Disease Groups}{

The function includes 50+ predefined epidemiological groups organized by:
\itemize{
\item \strong{ICD Chapters}: All major disease categories (A00-Y98)
\item \strong{Climate-Sensitive Diseases}: Vector-borne, waterborne, heat-related, etc.
\item \strong{Specific Conditions}: Dengue, malaria, cardiovascular, respiratory, etc.
\item \strong{Syndromic Groups}: Fever, respiratory, diarrheal syndromes
\item \strong{Age-Specific Groups}: Pediatric, elderly populations
}

Each group includes:
\itemize{
\item ICD code ranges
\item Multilingual labels and descriptions
\item Climate sensitivity flag
\item Associated climate factors
}

Use \code{list_disease_groups()} to see all available groups and their details.
}
}
\examples{
\dontrun{
# Example 1: Filter by explicit ICD codes
df_cardio <- sus_data_filter_cid(
  sim_data,
  icd_codes = "I00-I99",
  lang = "en"
)

# Example 2: Filter by disease group (easier!)
df_dengue <- sus_data_filter_cid(
  sinan_data,
  disease_group = "dengue",
  lang = "pt"
)

# Example 3: Climate-sensitive diseases
df_climate <- sus_data_filter_cid(
  sim_data,
  disease_group = "climate_sensitive_all",
  lang = "en"
)

# Example 4: Multiple specific codes
df_ami_stroke <- sus_data_filter_cid(
  sih_data,
  icd_codes = c("I21", "I22", "I63", "I64"),
  lang = "es"
)

# Example 5: Respiratory diseases in children
df_pediatric <- sus_data_filter_cid(
  sih_data,
  disease_group = "pediatric_respiratory",
  lang = "pt"
)

# List all available disease groups
list_disease_groups(lang = "pt")

# List only climate-sensitive groups
list_disease_groups(climate_sensitive_only = TRUE, lang = "en")

# Get details about a specific group
get_disease_group_details("dengue", lang = "pt")
}

}
\references{
\enumerate{
\item World Health Organization. (2016). ICD-10 International Statistical
Classification of Diseases and Related Health Problems. 10th Revision.
\item Brazilian Ministry of Health. (2023). Classificacao Estatistica
Internacional de Doencas e Problemas Relacionados a Saude - CID-10.
DATASUS. \url{http://datasus.saude.gov.br/cid10}
}
}
