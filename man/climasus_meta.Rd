% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/climasus_meta.R
\name{climasus_meta}
\alias{climasus_meta}
\title{Manage climasus S3 Class System metadata}
\usage{
climasus_meta(
  x = NULL,
  field = NULL,
  add_history = NULL,
  print_history = FALSE,
  valid_values = NULL,
  ...
)
}
\arguments{
\item{x}{A climasus_df object (required for get/set operations, optional for
\code{valid_values})}

\item{field}{Character. Specific metadata field to retrieve. One of: "system",
"stage", "type", "spatial", "temporal", "created", "modified", "history", "user".}

\item{add_history}{Character. Add entry to processing history with automatic
timestamp.}

\item{print_history}{Logical. If TRUE, prints processing history to console.}

\item{valid_values}{Character. Get valid values for a field. One of: "system",
"stage", "type". Does not require \code{x}.}

\item{...}{Named arguments to update metadata (e.g., \code{system = "SIH"},
\code{stage = "clean"}).}
}
\value{
Depends on the operation:
\itemize{
\item \strong{Get all metadata}: Returns list with all metadata (no additional args)
\item \strong{Get specific field}: Returns value of requested field
\item \strong{Update metadata}: Returns updated climasus_df object
\item \strong{Add history}: Returns updated climasus_df object with new history entry
\item \strong{Print history}: Returns NULL invisibly after printing
\item \strong{Valid values}: Returns character vector of valid values
}
}
\description{
Unified interface for getting, setting, and managing metadata in climasus_df
objects. This single function replaces multiple accessor functions to keep
the package namespace clean.
}
\details{
The function behavior depends on which arguments are provided:

\strong{Get Operations:}
\itemize{
\item \code{climasus_meta(x)} - Get all metadata as a list
\item \code{climasus_meta(x, "system")} - Get specific field value
}

\strong{Set Operations:}
\itemize{
\item \code{climasus_meta(x, system = "SIH", stage = "clean")} - Update metadata
\item \code{climasus_meta(x, add_history = "Filtered data")} - Add history entry
}

\strong{Utility Operations:}
\itemize{
\item \code{climasus_meta(x, print_history = TRUE)} - Print processing history
\item \code{climasus_meta(valid_values = "system")} - Get valid system values
}
}
\examples{
\dontrun{
# Create climasus_df (done internally by pipeline functions)
df <- data.frame(x = 1:10, y = letters[1:10])
df <- new_climasus_df(df, list(system = "SIH", stage = "import"))

# Get all metadata
meta <- climasus_meta(df)
str(meta)

# Get specific field
system <- climasus_meta(df, "system")  # "SIH"
stage <- climasus_meta(df, "stage")    # "import"

# Update metadata
df <- climasus_meta(df, stage = "clean", type = "clean")

# Add to processing history
df <- climasus_meta(df, add_history = "Removed missing values")
df <- climasus_meta(df, add_history = "Standardized column names")

# Print history
climasus_meta(df, print_history = TRUE)

# Get valid values (no x needed)
systems <- climasus_meta(valid_values = "system")
stages <- climasus_meta(valid_values = "stage")
}

}
